{% extends 'base_generic.html' %}

{% block title %}
<title>Katalog Buku</title>
{% endblock title %}

{% block content %}
    {% comment %} <h1>Local Library Home</h1>
    <p>Welcome to LocalLibrary, a website developed by <em> Iqbal </em> </p>
    <h2>Dynamic content</h2>
    <p>The library has the following record counts:</p>
    <ul>
        <li><strong>Books:</strong> {{num_books}}</li>
        <li><strong>Copies:</strong> {{num_instances}}</li>
        <li><strong>Copies available:</strong> {{num_instances_available}}</li>
        <li><strong>Authors:</strong>{{num_authors}}</li>
        <li><strong>Genres:</strong> {{num_genres}}</li>
    </ul>
    <p>
        Kunjungan ke {{ num_visits }}
    </p> {% endcomment %}
<div class="w-full h-screen p-10">
    <div class="flex flex-col items-center">
        <div class="card border-none">
            <div class="card-body">
                <div class="flex gap-3 justify-between items-center">
                    <div>
                        <h2 class="text-3xl font-bold card-title text-primary">Books</h2>
                    </div>
                    <div>
                        <a href="{% url 'books' %}" class="text-secondary">Selengkapnya</a>
                    </div>
                </div>
                <div class="flex gap-5 flex-wrap">
                {% for book in books %}
                    <div x-data={} @click="window.open('{% url 'catalog' %}book/{{ book.id }}', target='_self')" class="card w-52 backdrop-blur-xl bg-base-100/50 shadow-none hover:bg-base-100/70 hover:cursor-pointer transition ease-in-out delay-150 duration-300 card-bordered card-compact">
                        <figure class="p-2"><img src="https://dummyimage.com/600x600/000/fff" alt="book" class="rounded-xl" /></figure>
                        <div class="flex mx-3 flex-col items-start gap-3">
                          <h2 class="card-title text-xl">
                            {{ book.title }}
                          </h2>
                          <p>Penulis: <span>{{ book.author.first_name }} {{ book.author.last_name }}</span></p>
                        </div>
                    </div>
                {% endfor %}
                </div>
            </div>
        </div>
        <div class="card border-none">
            <div class="card-body">
                <div class="flex gap-3 justify-between items-center">
                    <div>
                        <h2 class="text-3xl font-bold card-title text-primary">Genres</h2>
                    </div>
                    <div>
                        <a href="{% url 'books' %}" class="text-secondary">Selengkapnya</a>
                    </div>
                </div>
                <div class="flex gap-5 flex-wrap">
                {% for genre in genres %}
                    <div x-data={} @click="" class="card w-52 backdrop-blur-xl bg-base-100/50 shadow-none hover:bg-base-100/70 hover:cursor-pointer transition ease-in-out delay-150 duration-300 card-bordered card-compact">
                        <figure class="p-2"><img src="https://dummyimage.com/600x600/000/fff" alt="genre" class="rounded-xl" /></figure>
                        <div class="flex mx-3 flex-col items-start gap-3">
                          <h2 class="card-title text-xl">
                            {{ genre.name }}
                          </h2>
                        </div>
                    </div>
                {% endfor %}
                </div>
            </div>
        </div>
        <div class="card border-none">
            <div class="card-body">
                <div class="flex gap-3 justify-between items-center">
                    <div>
                        <h2 class="text-3xl font-bold card-title text-primary">Authors</h2>
                    </div>
                    <div>
                        <a href="{% url 'books' %}" class="text-secondary">Selengkapnya</a>
                    </div>
                </div>
                <div class="flex gap-5 flex-wrap">
                {% for author in authors %}
                    <div x-data={} @click="" class="card w-52 backdrop-blur-xl bg-base-100/50 shadow-none hover:bg-base-100/70 hover:cursor-pointer transition ease-in-out delay-150 duration-300 card-bordered card-compact">
                        <figure class="p-2"><img src="https://dummyimage.com/600x600/000/fff" alt="genre" class="rounded-xl" /></figure>
                        <div class="flex mx-3 flex-col items-start gap-3">
                          <h2 class="card-title text-xl">
                            {{ author.first_name }} {{ author.last_name }}
                          </h2>
                        </div>
                    </div>
                {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}